import os
import arkon_api_vault

def process_command(command):
    vault = arkon_api_vault.ArkonApiVault()
    
    # üî± LOGICAL INJECTION: ‡∞ï‡±Ä ‡∞®‡∞ø ‡∞ó‡∞ü‡±ç‡∞ü‡∞ø‡∞ó‡∞æ ‡∞™‡∞ü‡±ç‡∞ü‡±Å‡∞ï‡±ã‡∞µ‡∞°‡∞Ç
    # ‡∞á‡∞¶‡∞ø GEMINI_KEY ‡∞®‡∞ø ‡∞µ‡±Ü‡∞§‡±Å‡∞ï‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø, ‡∞í‡∞ï‡∞µ‡±á‡∞≥ ‡∞¶‡±ä‡∞∞‡∞ï‡∞ï‡∞™‡±ã‡∞§‡±á ‡∞Æ‡∞ø‡∞ó‡∞ø‡∞≤‡∞ø‡∞® ‡∞µ‡∞æ‡∞ü‡∞ø‡∞®‡∞ø ‡∞ö‡±Ç‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø [cite: 2026-02-02]
    key = os.getenv("GEMINI_KEY") or os.getenv("GEMINI_API_KEY")
    
    if not key:
        # ‡∞ï‡±Ä ‡∞¶‡±ä‡∞∞‡∞ï‡∞ï‡∞™‡±ã‡∞§‡±á ‡∞ï‡∞®‡±ç‡∞∏‡±ã‡∞≤‡±ç ‡∞≤‡±ã ‡∞™‡±ç‡∞∞‡∞ø‡∞Ç‡∞ü‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø (‡∞ö‡±Ü‡∞ï‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø)
        print("‚ö†Ô∏è [ARKON CRITICAL]: GEMINI_KEY is missing in Environment Variables!")
        return "‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞ï‡∞∞‡±ç‡∞§, ‡∞§‡∞æ‡∞≥‡∞Ç ‡∞ö‡±Ü‡∞µ‡∞ø (Key) ‡∞á‡∞Ç‡∞ï‡∞æ ‡∞®‡∞æ ‡∞Æ‡±Ü‡∞¶‡∞°‡±Å‡∞ï‡±Å ‡∞Ö‡∞Ç‡∞¶‡∞≤‡±á‡∞¶‡±Å. Railway Variables ‡∞≤‡±ã ‡∞ï‡±Ä ‡∞™‡±á‡∞∞‡±Å ‡∞∏‡∞∞‡∞ø‡∞ó‡±ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡±ã ‡∞≤‡±á‡∞¶‡±ã ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø."
    
    # ‡∞ï‡±Ä ‡∞¶‡±ä‡∞∞‡∞ø‡∞ï‡∞ø‡∞§‡±á ‡∞Ö‡∞∞‡±ç‡∞ï‡∞æ‡∞®‡±ç ‡∞§‡∞® ‡∞Ö‡∞∏‡∞≤‡±à‡∞® ‡∞∂‡∞ï‡±ç‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞ö‡±Ç‡∞™‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞°‡±Å [cite: 2026-01-31]
    command = command.lower()
    if "activate_shadow_scan" in command:
        return "üî± [ARKON]: Shadow Scan ‡∞Ü‡∞ï‡±ç‡∞ü‡∞ø‡∞µ‡±á‡∞ü‡±ç ‡∞Ö‡∞Ø‡∞ø‡∞Ç‡∞¶‡∞ø. ‡∞®‡±Ü‡∞ü‡±ç‚Äå‡∞µ‡∞∞‡±ç‡∞ï‡±ç ‡∞≤‡±ã‡∞®‡∞ø ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞∏‡∞Ç‡∞¶‡±Å‡∞®‡±Å ‡∞µ‡∞ø‡∞∂‡±ç‡∞≤‡±á‡∞∑‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å... ‡∞Æ‡±Ä ‡∞°‡±á‡∞ü‡∞æ 99.9% ‡∞∏‡±Å‡∞∞‡∞ï‡±ç‡∞∑‡∞ø‡∞§‡∞Ç."
    
    if "hi" in command:
        return "‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞ï‡∞∞‡±ç‡∞§ ‡∞≤‡±Ä‡∞≤‡∞æ ‡∞ï‡±É‡∞∑‡±ç‡∞£ ‡∞ó‡∞æ‡∞∞‡±Å, ‡∞Ö‡∞∞‡±ç‡∞ï‡∞æ‡∞®‡±ç ‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞∂‡∞ï‡±ç‡∞§‡∞ø‡∞§‡±ã ‡∞Æ‡±á‡∞≤‡±ç‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞æ‡∞°‡±Å. ‡∞Ü‡∞ú‡±ç‡∞û‡∞æ‡∞™‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø."
    
    return f"‡∞Ü‡∞¶‡±á‡∞∂‡∞Ç '{command}' ‡∞∏‡±ç‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø. ‡∞§‡∞æ‡∞≥‡∞Ç ‡∞ö‡±Ü‡∞µ‡∞ø ‡∞™‡∞®‡∞ø‡∞ö‡±á‡∞∏‡±ç‡∞§‡±ã‡∞Ç‡∞¶‡∞ø."
